<section class="row justify-content-center mt-5">

  <p-card styleClass="col-md-10 col-lg-8 offset-lg-2 offset-md-1 col-sm-12 offset-sm-0">

    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-6 me-1">
        <form [formGroup]="loginForm" class="row card login-form mx-0 px-0">
          <div class="row px-0 mx-0">
            <h3 class="c-primary text-center mb-3">{{ 'auth.login' | translate }}</h3>
          </div>
          <div class="row mb-3 mx-0 px-0">
            <div>
              <label for="email">{{ 'auth.email' | translate }}</label>
              <input pInputText formControlName="email" class="w-100" id="email"
                     placeholder="example@mail.com"/>
              <small *ngIf="isInvalid(loginForm,'email')" class="input-validation-item">
                {{ getError(loginForm, 'email', 'required', 'common.field_required' | translate) }}
                {{ getError(loginForm, 'email', 'email', 'auth.email_not_valid' | translate) }}
                {{ getServersideError(loginForm, 'email') }}
              </small>
            </div>
          </div>
          <div class="row mb-3 mx-0 px-0">
            <doerly-password-input
              [inputControl]="loginForm.get('password')!"
              [label]="'auth.password' | translate">
            </doerly-password-input>
          </div>
          <div class="row mx-0 px-0">
            <div class="col-xl-6 col-lg-12 mb-3">
              <p-checkbox id="remember-me" formControlName="rememberMe" [binary]="true"></p-checkbox>
              <label for="remember-me" class="ms-2">{{ 'auth.remember_me' | translate }}</label>
            </div>
            <div class="col-xl-6 col-lg-12 d-flex justify-content-xl-end justify-content-lg-start mb-3">
              <a class="text-end"
                 routerLink="/auth/request-password-reset">{{ 'auth.forgot_password' | translate }}</a>
            </div>
          </div>
          <div class="row mx-0 mt-3">
            <button pButton pRipple [type]="'submit'" label="{{'auth.login' | translate }}"
                    icon="pi pi-user"
                    class="w-100" [disabled]="!loginForm.valid"
                    (click)="login()"></button>
          </div>
        </form>
      </div>

      <p-divider [layout]="'vertical'" styleClass="col-1 d-md-block mx-0 d-none"/>

      <div class="col-sm-12 col-md-4 d-flex flex-column align-items-center justify-content-center mt-3 text-center">
        <h3 class="c-primary d-none d-md-inline">Doerly</h3>
        <p>{{ 'auth.want_to_join_us' | translate }}
          <a class="w-100 mt-3" routerLink="/auth/register">{{ 'auth.register_now' | translate }}</a>
        </p>
      </div>
    </div>
  </p-card>

</section>


