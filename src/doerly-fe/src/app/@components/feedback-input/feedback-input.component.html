<p-card styleClass="col-md-10 col-lg-8 offset-lg-2 offset-md-1 col-sm-12 offset-sm-0">
  <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()" class="col-md-10 offset-md-1">
    <div class="mb-3" *ngIf="!isReadonly()">
      <div class="col-12">
        <h3 class="text-center">{{ 'communication.feedback.title' | translate }}</h3>
      </div>
    </div>
    <div class="mb-3">
      <p-rating id="rating" formControlName="rating" [stars]="5" [readonly]="isReadonly()"
                ></p-rating>
    </div>
    <div class="mb-3">
      <textarea pTextarea formControlName="comment" rows="5" cols="30" class="w-100 p-2" id="comment"
                [readOnly]="isReadonly()"
                maxlength="4000"></textarea>
      <small *ngIf="isInvalid(feedbackForm, 'comment')" class="input-validation-item">
        {{ getError(feedbackForm, 'comment', 'required', 'ordering.field_required' | translate) }}
        {{ getError(feedbackForm, 'comment', 'minimumLength', 'ordering.minimum_length' | translate: {length: 5}) }}
        {{ getServersideError(feedbackForm, 'comment') }}
      </small>
    </div>
    <div class="d-flex justify-content-center">
      <button pButton size="small" type="submit" *ngIf="!isReadonly()" [disabled]="feedbackForm.invalid">Submit Feedback</button>
    </div>
  </form>
</p-card>
